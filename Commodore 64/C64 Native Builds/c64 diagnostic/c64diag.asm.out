C64DIAG.ASM......PAGE 0001

LINE# LOC   CODE        LINE


00001  0000              *=$8000
00002  8000              ;********************************
00003  8000              ;********************************
00004  8000  09 80              .WORD XX8009
00005  8002  09 80              .WORD XX8009
00006  8004              ;********************************
00007  8004              ;********************************
00008  8004  C3                 .BYTE $C3       ;'C'
00009  8005  C2                 .BYTE $C2       ;'B'
00010  8006  CD                 .BYTE $CD       ;'M'
00011  8007  38                 .BYTE $38       ;'8'
00012  8008  30                 .BYTE $30       ;'0'
00013  8009              ;********************************
00014  8009  78          XX8009 SEI 
00015  800A  A2 FF              LDX #$FF
00016  800C  9A                 TXS 
00017  800D  E8                 INX 
00018  800E  8E 0D DC           STX $DC0D
00019  8011  8E 0D DD           STX $DD0D
00020  8014  D8                 CLD 
00021  8015  A2 2F              LDX #$2F        ;'/'
00022  8017  BD B2 89    XX8017 LDA XX89B2,X
00023  801A  9D FF CF           STA $CFFF,X
00024  801D  CA                 DEX 
00025  801E  D0 F7              BNE XX8017
00026  8020  A2 00              LDX #$00
00027  8022  A9 0E       XX8022 LDA #$0E
00028  8024  9D 00 D8           STA $D800,X
00029  8027  9D 00 D9           STA $D900,X
00030  802A  9D 00 DA           STA $DA00,X
00031  802D  9D 00 DB           STA $DB00,X
00032  8030  A9 20              LDA #$20        ;' '
00033  8032  9D 00 04           STA $0400,X
00034  8035  9D 00 05           STA $0500,X
00035  8038  9D 00 06           STA $0600,X
00036  803B  9D 00 07           STA $0700,X
00037  803E  E8                 INX 
00038  803F  D0 E1              BNE XX8022
00039  8041  A2 16              LDX #$16
00040  8043  BD F1 89    XX8043 LDA XX89F1,X
00041  8046  29 BF              AND #$BF
00042  8048  9D 30 04           STA $0430,X
00043  804B  CA                 DEX 
00044  804C  10 F5              BPL XX8043
00045  804E  A2 0B              LDX #$0B
00046  8050  BD 08 8A    XX8050 LDA XX8A08,X
00047  8053  29 BF              AND #$BF
00048  8055  09 80              ORA #$80
00049  8057  9D 86 04           STA $0486,X
00050  805A  CA                 DEX 
00051  805B  10 F3              BPL XX8050
00052  805D  A2 07       XX805D LDX #$07
00053  805F  BD 14 8A    XX805F LDA XX8A14,X
00054  8062  29 BF              AND #$BF
00055  8064  9D C9 04           STA $04C9,X






C64DIAG.ASM......PAGE 0002

LINE# LOC   CODE        LINE


00056  8067  CA                 DEX 
00057  8068  10 F5              BPL XX805F
00058  806A  A0 02              LDY #$02
00059  806C  98          XX806C TYA 
00060  806D  99 00 00           STA $0000,Y
00061  8070  C8                 INY 
00062  8071  D0 F9              BNE XX806C
00063  8073  A0 02              LDY #$02
00064  8075  98          XX8075 TYA 
00065  8076  59 00 00           EOR $0000,Y
00066  8079  D0 20              BNE XX809B
00067  807B  AA                 TAX 
00068  807C  8A          XX807C TXA 
00069  807D  99 00 00           STA $0000,Y
00070  8080  59 00 00           EOR $0000,Y
00071  8083  D0 3D              BNE XX80C2
00072  8085  E8                 INX 
00073  8086  D0 F4              BNE XX807C
00074  8088  C8                 INY 
00075  8089  D0 EA              BNE XX8075
00076  808B  A2 02              LDX #$02
00077  808D  BD D9 8A    XX808D LDA XX8AD9,X
00078  8090  29 BF              AND #$BF
00079  8092  9D D6 04           STA $04D6,X
00080  8095  CA                 DEX 
00081  8096  D0 F5              BNE XX808D
00082  8098  4C FF 80           JMP XX80FF
00083  809B              ;********************************
00084  809B  A9 FF       XX809B LDA #$FF
00085  809D  99 00 00           STA $0000,Y
00086  80A0  59 00 00           EOR $0000,Y
00087  80A3  D0 1D              BNE XX80C2
00088  80A5  99 00 00           STA $0000,Y
00089  80A8  59 00 00           EOR $0000,Y
00090  80AB  D0 15              BNE XX80C2
00091  80AD  A2 0C              LDX #$0C
00092  80AF  BD C4 8A    XX80AF LDA XX8AC4,X
00093  80B2  29 BF              AND #$BF
00094  80B4  9D D6 04           STA $04D6,X
00095  80B7  A9 03              LDA #$03
00096  80B9  9D D6 D8           STA $D8D6,X
00097  80BC  CA                 DEX 
00098  80BD  D0 F0              BNE XX80AF
00099  80BF  4C FF 80           JMP XX80FF
00100  80C2              ;********************************
00101  80C2  A2 08       XX80C2 LDX #$08
00102  80C4  2A          XX80C4 ROL A
00103  80C5  B0 03              BCS XX80CA
00104  80C7  CA                 DEX 
00105  80C8  D0 FA              BNE XX80C4
00106  80CA  8A          XX80CA TXA 
00107  80CB  0A                 ASL A
00108  80CC  AA                 TAX 
00109  80CD  A9 15              LDA #$15
00110  80CF  8D DB 04           STA $04DB






C64DIAG.ASM......PAGE 0003

LINE# LOC   CODE        LINE


00111  80D2  BD E0 89           LDA XX89E0,X
00112  80D5  8D DD 04           STA $04DD
00113  80D8  CA                 DEX 
00114  80D9  BD E0 89           LDA XX89E0,X
00115  80DC  8D DC 04           STA $04DC
00116  80DF  A9 03              LDA #$03
00117  80E1  8D DB D8           STA $D8DB
00118  80E4  8D DC D8           STA $D8DC
00119  80E7  8D DD D8           STA $D8DD
00120  80EA  A2 04              LDX #$04
00121  80EC  BD C4 8A    XX80EC LDA XX8AC4,X
00122  80EF  29 BF              AND #$BF
00123  80F1  9D D6 04           STA $04D6,X
00124  80F4  A9 03              LDA #$03
00125  80F6  9D D6 D8           STA $D8D6,X
00126  80F9  CA                 DEX 
00127  80FA  D0 F0              BNE XX80EC
00128  80FC  4C FF 80           JMP XX80FF
00129  80FF              ;********************************
00130  80FF  A2 08       XX80FF LDX #$08
00131  8101  BD 1C 8A    XX8101 LDA XX8A1C,X
00132  8104  29 BF              AND #$BF
00133  8106  9D F1 04           STA $04F1,X
00134  8109  CA                 DEX 
00135  810A  10 F5              BPL XX8101
00136  810C  A0 00              LDY #$00
00137  810E  98          XX810E TYA 
00138  810F  99 00 01           STA $0100,Y
00139  8112  C8                 INY 
00140  8113  D0 F9              BNE XX810E
00141  8115  A0 00              LDY #$00
00142  8117  98          XX8117 TYA 
00143  8118  59 00 01           EOR $0100,Y
00144  811B  D0 20              BNE XX813D
00145  811D  AA                 TAX 
00146  811E  8A          XX811E TXA 
00147  811F  99 00 01           STA $0100,Y
00148  8122  59 00 01           EOR $0100,Y
00149  8125  D0 3D              BNE XX8164
00150  8127  E8                 INX 
00151  8128  D0 F4              BNE XX811E
00152  812A  C8                 INY 
00153  812B  D0 EA              BNE XX8117
00154  812D  A2 02              LDX #$02
00155  812F  BD D9 8A    XX812F LDA XX8AD9,X
00156  8132  29 BF              AND #$BF
00157  8134  9D FE 04           STA $04FE,X
00158  8137  CA                 DEX 
00159  8138  D0 F5              BNE XX812F
00160  813A  4C A1 81           JMP XX81A1
00161  813D              ;********************************
00162  813D  A9 FF       XX813D LDA #$FF
00163  813F  99 00 01           STA $0100,Y
00164  8142  59 00 01           EOR $0100,Y
00165  8145  D0 1D              BNE XX8164






C64DIAG.ASM......PAGE 0004

LINE# LOC   CODE        LINE


00166  8147  99 00 01           STA $0100,Y
00167  814A  59 00 01           EOR $0100,Y
00168  814D  D0 15              BNE XX8164
00169  814F  A2 0C              LDX #$0C
00170  8151  BD C4 8A    XX8151 LDA XX8AC4,X
00171  8154  29 BF              AND #$BF
00172  8156  9D FE 04           STA $04FE,X
00173  8159  A9 03              LDA #$03
00174  815B  9D FE D8           STA $D8FE,X
00175  815E  CA                 DEX 
00176  815F  D0 F0              BNE XX8151
00177  8161  4C A1 81           JMP XX81A1
00178  8164              ;********************************
00179  8164  A2 08       XX8164 LDX #$08
00180  8166  2A          XX8166 ROL A
00181  8167  B0 03              BCS XX816C
00182  8169  CA                 DEX 
00183  816A  D0 FA              BNE XX8166
00184  816C  8A          XX816C TXA 
00185  816D  0A                 ASL A
00186  816E  AA                 TAX 
00187  816F  A9 15              LDA #$15
00188  8171  8D 03 05           STA $0503
00189  8174  BD E0 89           LDA XX89E0,X
00190  8177  8D 05 05           STA $0505
00191  817A  CA                 DEX 
00192  817B  BD E0 89           LDA XX89E0,X
00193  817E  8D 04 05           STA $0504
00194  8181  A9 03              LDA #$03
00195  8183  8D 03 D9           STA $D903
00196  8186  8D 04 D9           STA $D904
00197  8189  8D 05 D9           STA $D905
00198  818C  A2 04              LDX #$04
00199  818E  BD C4 8A    XX818E LDA XX8AC4,X
00200  8191  29 BF              AND #$BF
00201  8193  9D FE 04           STA $04FE,X
00202  8196  A9 03              LDA #$03
00203  8198  9D FE D8           STA $D8FE,X
00204  819B  CA                 DEX 
00205  819C  D0 F0              BNE XX818E
00206  819E  4C A1 81           JMP XX81A1
00207  81A1              ;********************************
00208  81A1  A9 F0       XX81A1 LDA #$F0
00209  81A3  A2 04              LDX #$04
00210  81A5  85 07              STA $07
00211  81A7  86 08              STX $08
00212  81A9  20 D3 81           JSR XX81D3
00213  81AC  20 3F 82           JSR XX823F
00214  81AF  20 3F 83           JSR XX833F
00215  81B2  20 A6 83           JSR XX83A6
00216  81B5  20 5F 84           JSR XX845F
00217  81B8  20 39 85           JSR XX8539
00218  81BB  20 A0 85           JSR XX85A0
00219  81BE  20 38 86           JSR XX8638
00220  81C1  20 96 86           JSR XX8696






C64DIAG.ASM......PAGE 0005

LINE# LOC   CODE        LINE


00221  81C4  20 FB 86           JSR XX86FB
00222  81C7  20 A0 87           JSR XX87A0
00223  81CA  20 28 88           JSR XX8828
00224  81CD  20 69 89           JSR XX8969
00225  81D0  4C 5D 80           JMP XX805D
00226  81D3              ;********************************
00227  81D3  A0 34       XX81D3 LDY #$34        ;'4'
00228  81D5  20 EF 88           JSR XX88EF
00229  81D8  A2 D8              LDX #$D8
00230  81DA  A0 00              LDY #$00
00231  81DC  A9 04              LDA #$04
00232  81DE  85 0E              STA $0E
00233  81E0  84 05              STY $05
00234  81E2  86 06              STX $06
00235  81E4  A0 00              LDY #$00
00236  81E6  B1 05       XX81E6 LDA ($05),Y
00237  81E8  85 02              STA $02
00238  81EA  A2 0F              LDX #$0F
00239  81EC  8A          XX81EC TXA 
00240  81ED  91 05              STA ($05),Y
00241  81EF  48                 PHA 
00242  81F0  B1 05              LDA ($05),Y
00243  81F2  29 0F              AND #$0F
00244  81F4  85 03              STA $03
00245  81F6  68                 PLA 
00246  81F7  45 03              EOR $03
00247  81F9  D0 14              BNE XX820F
00248  81FB  CA                 DEX 
00249  81FC  10 EE              BPL XX81EC
00250  81FE  A5 02              LDA $02
00251  8200  91 05              STA ($05),Y
00252  8202  C8                 INY 
00253  8203  D0 E1              BNE XX81E6
00254  8205  E6 06              INC $06
00255  8207  C6 0E              DEC $0E
00256  8209  D0 DB              BNE XX81E6
00257  820B  20 1B 89           JSR XX891B
00258  820E  60                 RTS 
00259  820F              ;********************************
00260  820F  A9 0F       XX820F LDA #$0F
00261  8211  91 05              STA ($05),Y
00262  8213  51 05              EOR ($05),Y
00263  8215  29 0F              AND #$0F
00264  8217  D0 10              BNE XX8229
00265  8219  91 05              STA ($05),Y
00266  821B  51 05              EOR ($05),Y
00267  821D  29 0F              AND #$0F
00268  821F  D0 08              BNE XX8229
00269  8221  84 02              STY $02
00270  8223  85 0D              STA $0D
00271  8225  20 36 89           JSR XX8936
00272  8228  60                 RTS 
00273  8229              ;********************************
00274  8229  20 36 89    XX8229 JSR XX8936
00275  822C  A0 05              LDY #$05






C64DIAG.ASM......PAGE 0006

LINE# LOC   CODE        LINE


00276  822E  A9 15              LDA #$15
00277  8230  91 09              STA ($09),Y
00278  8232  C8                 INY 
00279  8233  A9 36              LDA #$36        ;'6'
00280  8235  91 09              STA ($09),Y
00281  8237  A9 03              LDA #$03
00282  8239  91 0B              STA ($0B),Y
00283  823B  88                 DEY 
00284  823C  91 0B              STA ($0B),Y
00285  823E  60                 RTS 
00286  823F              ;********************************
00287  823F  A0 3F       XX823F LDY #$3F        ;'?'
00288  8241  20 EF 88           JSR XX88EF
00289  8244  A2 02              LDX #$02
00290  8246  A0 00              LDY #$00
00291  8248  A9 7E              LDA #$7E
00292  824A  20 AD 82           JSR XX82AD
00293  824D  C9 55              CMP #$55        ;'U'
00294  824F  F0 06              BEQ XX8257
00295  8251  E0 FF              CPX #$FF
00296  8253  D0 26              BNE XX827B
00297  8255  F0 1C              BEQ XX8273
00298  8257  20 1E 83    XX8257 JSR XX831E
00299  825A  B0 1F              BCS XX827B
00300  825C  A2 80              LDX #$80
00301  825E  A0 00              LDY #$00
00302  8260  A9 80              LDA #$80
00303  8262  20 00 01           JSR $0100
00304  8265  C9 55              CMP #$55        ;'U'
00305  8267  F0 06              BEQ XX826F
00306  8269  E0 FF              CPX #$FF
00307  826B  D0 0E              BNE XX827B
00308  826D  F0 04              BEQ XX8273
00309  826F  20 1B 89    XX826F JSR XX891B
00310  8272  60                 RTS 
00311  8273              ;********************************
00312  8273  86 0D       XX8273 STX $0D
00313  8275  84 02              STY $02
00314  8277  20 36 89           JSR XX8936
00315  827A  60                 RTS 
00316  827B              ;********************************
00317  827B  84 02       XX827B STY $02
00318  827D  85 03              STA $03
00319  827F  20 36 89           JSR XX8936
00320  8282  A5 03              LDA $03
00321  8284  A2 08              LDX #$08
00322  8286  2A          XX8286 ROL A
00323  8287  B0 03              BCS XX828C
00324  8289  CA                 DEX 
00325  828A  D0 FA              BNE XX8286
00326  828C  A0 07       XX828C LDY #$07
00327  828E  8A                 TXA 
00328  828F  0A                 ASL A
00329  8290  AA                 TAX 
00330  8291  BD E0 89           LDA XX89E0,X






C64DIAG.ASM......PAGE 0007

LINE# LOC   CODE        LINE


00331  8294  91 09              STA ($09),Y
00332  8296  CA                 DEX 
00333  8297  88                 DEY 
00334  8298  BD E0 89           LDA XX89E0,X
00335  829B  91 09              STA ($09),Y
00336  829D  88                 DEY 
00337  829E  A9 15              LDA #$15
00338  82A0  91 09              STA ($09),Y
00339  82A2  A9 03              LDA #$03
00340  82A4  91 0B              STA ($0B),Y
00341  82A6  C8                 INY 
00342  82A7  91 0B              STA ($0B),Y
00343  82A9  C8                 INY 
00344  82AA  91 0B              STA ($0B),Y
00345  82AC  60                 RTS 
00346  82AD              ;********************************
00347  82AD  85 0E       XX82AD STA $0E
00348  82AF  84 05              STY $05
00349  82B1  86 06              STX $06
00350  82B3  E0 80              CPX #$80
00351  82B5  D0 08              BNE XX82BF
00352  82B7  A9 03              LDA #$03
00353  82B9  85 00              STA $00
00354  82BB  A9 00              LDA #$00
00355  82BD  85 01              STA $01
00356  82BF  A0 00       XX82BF LDY #$00
00357  82C1  B1 05       XX82C1 LDA ($05),Y
00358  82C3  99 00 03           STA $0300,Y
00359  82C6  98                 TYA 
00360  82C7  91 05              STA ($05),Y
00361  82C9  C8                 INY 
00362  82CA  D0 F5              BNE XX82C1
00363  82CC  A0 00              LDY #$00
00364  82CE  98          XX82CE TYA 
00365  82CF  51 05              EOR ($05),Y
00366  82D1  D0 30              BNE XX8303
00367  82D3  91 05              STA ($05),Y
00368  82D5  51 05              EOR ($05),Y
00369  82D7  D0 3C              BNE XX8315
00370  82D9  A9 AA              LDA #$AA
00371  82DB  91 05              STA ($05),Y
00372  82DD  51 05              EOR ($05),Y
00373  82DF  D0 34              BNE XX8315
00374  82E1  A9 55              LDA #$55        ;'U'
00375  82E3  91 05              STA ($05),Y
00376  82E5  51 05              EOR ($05),Y
00377  82E7  D0 2C              BNE XX8315
00378  82E9  A9 FF              LDA #$FF
00379  82EB  91 05              STA ($05),Y
00380  82ED  51 05              EOR ($05),Y
00381  82EF  D0 24              BNE XX8315
00382  82F1  B9 00 03           LDA $0300,Y
00383  82F4  91 05              STA ($05),Y
00384  82F6  C8                 INY 
00385  82F7  D0 D5              BNE XX82CE






C64DIAG.ASM......PAGE 0008

LINE# LOC   CODE        LINE


00386  82F9  E6 06              INC $06
00387  82FB  C6 0E              DEC $0E
00388  82FD  D0 C0              BNE XX82BF
00389  82FF  A9 55              LDA #$55        ;'U'
00390  8301  D0 14              BNE XX8317
00391  8303  A9 FF       XX8303 LDA #$FF
00392  8305  91 05              STA ($05),Y
00393  8307  51 05              EOR ($05),Y
00394  8309  D0 0A              BNE XX8315
00395  830B  91 05              STA ($05),Y
00396  830D  51 05              EOR ($05),Y
00397  830F  D0 04              BNE XX8315
00398  8311  A2 FF              LDX #$FF
00399  8313  D0 02              BNE XX8317
00400  8315  A2 00       XX8315 LDX #$00
00401  8317  48          XX8317 PHA 
00402  8318  A9 03              LDA #$03
00403  831A  85 01              STA $01
00404  831C  68                 PLA 
00405  831D  60                 RTS 
00406  831E              ;********************************
00407  831E  A9 AD       XX831E LDA #$AD
00408  8320  A2 82              LDX #$82
00409  8322  A0 70              LDY #$70
00410  8324  85 05              STA $05
00411  8326  86 06              STX $06
00412  8328  A9 00              LDA #$00
00413  832A  A2 01              LDX #$01
00414  832C  85 02              STA $02
00415  832E  86 03              STX $03
00416  8330  B1 05       XX8330 LDA ($05),Y
00417  8332  91 02              STA ($02),Y
00418  8334  D1 02              CMP ($02),Y
00419  8336  D0 05              BNE XX833D
00420  8338  88                 DEY 
00421  8339  10 F5              BPL XX8330
00422  833B  18                 CLC 
00423  833C  60                 RTS 
00424  833D              ;********************************
00425  833D  38          XX833D SEC 
00426  833E  60                 RTS 
00427  833F              ;********************************
00428  833F  A0 4A       XX833F LDY #$4A        ;'J'
00429  8341  20 EF 88           JSR XX88EF
00430  8344  A2 01              LDX #$01
00431  8346  20 54 83           JSR XX8354
00432  8349  A0 55              LDY #$55        ;'U'
00433  834B  20 EF 88           JSR XX88EF
00434  834E  A2 00              LDX #$00
00435  8350  20 54 83           JSR XX8354
00436  8353  60                 RTS 
00437  8354              ;********************************
00438  8354  A0 00       XX8354 LDY #$00
00439  8356  BD 9E 83           LDA XX839E,X
00440  8359  85 06              STA $06






C64DIAG.ASM......PAGE 0009

LINE# LOC   CODE        LINE


00441  835B  84 05              STY $05
00442  835D  BD A0 83           LDA XX83A0,X
00443  8360  85 0E              STA $0E
00444  8362  18                 CLC 
00445  8363  71 05       XX8363 ADC ($05),Y
00446  8365  C8                 INY 
00447  8366  D0 FB              BNE XX8363
00448  8368  E6 06              INC $06
00449  836A  C6 0E              DEC $0E
00450  836C  D0 F5              BNE XX8363
00451  836E  69 00              ADC #$00
00452  8370  85 02              STA $02
00453  8372  DD A2 83           CMP XX83A2,X
00454  8375  D0 04              BNE XX837B
00455  8377  20 1B 89    XX8377 JSR XX891B
00456  837A  60                 RTS 
00457  837B              ;********************************
00458  837B  E0 00       XX837B CPX #$00
00459  837D  D0 04              BNE XX8383
00460  837F  C9 01              CMP #$01
00461  8381  F0 F4              BEQ XX8377
00462  8383  BD A4 83    XX8383 LDA XX83A4,X
00463  8386  85 02              STA $02
00464  8388  20 36 89           JSR XX8936
00465  838B  A0 05              LDY #$05
00466  838D  A9 15              LDA #$15
00467  838F  91 09              STA ($09),Y
00468  8391  A5 02              LDA $02
00469  8393  C8                 INY 
00470  8394  91 09              STA ($09),Y
00471  8396  A9 03              LDA #$03
00472  8398  91 0B              STA ($0B),Y
00473  839A  88                 DEY 
00474  839B  91 0B              STA ($0B),Y
00475  839D  60                 RTS 
00476  839E              ;********************************
00477  839E              ;********************************
00478  839E  E0          XX839E .BYTE $E0
00479  839F  A0                 .BYTE $A0
00480  83A0  20          XX83A0 .BYTE $20
00481  83A1  20                 .BYTE $20
00482  83A2  02          XX83A2 .BYTE $02
00483  83A3  C1                 .BYTE $C1
00484  83A4  34          XX83A4 .BYTE $34
00485  83A5  33                 .BYTE $33
00486  83A6              ;********************************
00487  83A6  A0 60       XX83A6 LDY #$60
00488  83A8  20 EF 88           JSR XX88EF
00489  83AB  A9 FF              LDA #$FF
00490  83AD  8D 04 DC           STA $DC04
00491  83B0  8D 05 DC           STA $DC05
00492  83B3  8D 06 DC           STA $DC06
00493  83B6  8D 07 DC           STA $DC07
00494  83B9  8D 04 DD           STA $DD04
00495  83BC  8D 05 DD           STA $DD05






C64DIAG.ASM......PAGE 0010

LINE# LOC   CODE        LINE


00496  83BF  8D 06 DD           STA $DD06
00497  83C2  8D 07 DD           STA $DD07
00498  83C5  A9 7F              LDA #$7F
00499  83C7  8D 0D DC           STA $DC0D
00500  83CA  8D 0D DD           STA $DD0D
00501  83CD  A2 81              LDX #$81
00502  83CF  20 3E 84           JSR XX843E
00503  83D2  A9 01              LDA #$01
00504  83D4  20 A3 89           JSR XX89A3
00505  83D7  A2 80              LDX #$80
00506  83D9  20 3E 84           JSR XX843E
00507  83DC  A2 FF              LDX #$FF
00508  83DE  A0 01              LDY #$01
00509  83E0  AD 04 DC           LDA $DC04
00510  83E3  EC 04 DC           CPX $DC04
00511  83E6  F0 37              BEQ XX841F
00512  83E8  C8                 INY 
00513  83E9  CD 06 DC           CMP $DC06
00514  83EC  D0 31              BNE XX841F
00515  83EE  EC 06 DC           CPX $DC06
00516  83F1  F0 2C              BEQ XX841F
00517  83F3  C8                 INY 
00518  83F4  CD 04 DD           CMP $DD04
00519  83F7  D0 26              BNE XX841F
00520  83F9  EC 04 DD           CPX $DD04
00521  83FC  F0 21              BEQ XX841F
00522  83FE  C8                 INY 
00523  83FF  CD 06 DD           CMP $DD06
00524  8402  D0 1B              BNE XX841F
00525  8404  EC 06 DD           CPX $DD06
00526  8407  F0 16              BEQ XX841F
00527  8409  AD 05 DC           LDA $DC05
00528  840C  CD 07 DC           CMP $DC07
00529  840F  D0 0E              BNE XX841F
00530  8411  CD 05 DD           CMP $DD05
00531  8414  D0 09              BNE XX841F
00532  8416  CD 07 DD           CMP $DD07
00533  8419  D0 04              BNE XX841F
00534  841B  20 1B 89           JSR XX891B
00535  841E  60                 RTS 
00536  841F              ;********************************
00537  841F  98          XX841F TYA 
00538  8420  29 02              AND #$02
00539  8422  0A                 ASL A
00540  8423  18                 CLC 
00541  8424  69 31              ADC #$31        ;'1'
00542  8426  85 02              STA $02
00543  8428  20 36 89           JSR XX8936
00544  842B  A9 15              LDA #$15
00545  842D  A0 05              LDY #$05
00546  842F  91 09              STA ($09),Y
00547  8431  A5 02              LDA $02
00548  8433  C8                 INY 
00549  8434  91 09              STA ($09),Y
00550  8436  A9 03              LDA #$03






C64DIAG.ASM......PAGE 0011

LINE# LOC   CODE        LINE


00551  8438  91 0B              STA ($0B),Y
00552  843A  88                 DEY 
00553  843B  91 0B              STA ($0B),Y
00554  843D  60                 RTS 
00555  843E              ;********************************
00556  843E  AD 11 D0    XX843E LDA $D011
00557  8441  29 EF              AND #$EF
00558  8443  8D 11 D0           STA $D011
00559  8446  AC 12 D0    XX8446 LDY $D012
00560  8449  C0 FF              CPY #$FF
00561  844B  D0 F9              BNE XX8446
00562  844D  8E 0E DC           STX $DC0E
00563  8450  8E 0F DC           STX $DC0F
00564  8453  8E 0E DD           STX $DD0E
00565  8456  8E 0F DD           STX $DD0F
00566  8459  09 10              ORA #$10
00567  845B  8D 11 D0           STA $D011
00568  845E  60                 RTS 
00569  845F              ;********************************
00570  845F  A0 77       XX845F LDY #$77
00571  8461  20 EF 88           JSR XX88EF
00572  8464                                     ;LDA #$25      ;'%'
00573  8464                                     ;LDX #$85
00574  8464  A9 25              LDA #<ZZ8525
00575  8466  A2 85              LDX #>ZZ8525
00576  8468  8E 15 03           STX $0315
00577  846B  8E 17 03           STX $0317
00578  846E  8D 14 03           STA $0314
00579  8471  8D 16 03           STA $0316
00580  8474                                     ;LDA #$36      ;'6'
00581  8474                                     ;LDX #$85
00582  8474  A9 36              LDA #<ZZ8536
00583  8476  A2 85              LDX #>ZZ8536
00584  8478  8E 19 03           STX $0319
00585  847B  8D 18 03           STA $0318
00586  847E  A9 00              LDA #$00
00587  8480  A2 DC              LDX #$DC
00588  8482  86 12              STX $12
00589  8484  85 11              STA $11
00590  8486  20 99 84           JSR XX8499
00591  8489  B0 0D              BCS XX8498
00592  848B  A9 00              LDA #$00
00593  848D  A2 DD              LDX #$DD
00594  848F  86 12              STX $12
00595  8491  85 11              STA $11
00596  8493  20 99 84           JSR XX8499
00597  8496  B0 00              BCS XX8498
00598  8498  60          XX8498 RTS 
00599  8499              ;********************************
00600  8499  A9 01       XX8499 LDA #$01
00601  849B  85 10              STA $10
00602  849D  A9 0E              LDA #$0E
00603  849F  85 02              STA $02
00604  84A1  A0 04              LDY #$04
00605  84A3  20 E7 84           JSR XX84E7






C64DIAG.ASM......PAGE 0012

LINE# LOC   CODE        LINE


00606  84A6  A0 06              LDY #$06
00607  84A8  06 10              ASL $10
00608  84AA  E6 02              INC $02
00609  84AC  20 E7 84           JSR XX84E7
00610  84AF  06 10              ASL $10
00611  84B1  A0 0F              LDY #$0F
00612  84B3  A9 00              LDA #$00
00613  84B5  91 11              STA ($11),Y
00614  84B7  A2 01              LDX #$01
00615  84B9  20 D6 84           JSR XX84D6
00616  84BC  A0 0F              LDY #$0F
00617  84BE  A9 80              LDA #$80
00618  84C0  91 11              STA ($11),Y
00619  84C2  A2 04              LDX #$04
00620  84C4  20 D6 84           JSR XX84D6
00621  84C7  20 FD 84           JSR XX84FD
00622  84CA  A9 02              LDA #$02
00623  84CC  20 A3 89           JSR XX89A3
00624  84CF  20 0B 85           JSR XX850B
00625  84D2  20 1B 89           JSR XX891B
00626  84D5  60                 RTS 
00627  84D6              ;********************************
00628  84D6  A0 0B       XX84D6 LDY #$0B
00629  84D8  A9 00              LDA #$00
00630  84DA  91 11              STA ($11),Y
00631  84DC  88                 DEY 
00632  84DD  91 11              STA ($11),Y
00633  84DF  88                 DEY 
00634  84E0  91 11              STA ($11),Y
00635  84E2  88                 DEY 
00636  84E3  8A                 TXA 
00637  84E4  91 11              STA ($11),Y
00638  84E6  60                 RTS 
00639  84E7              ;********************************
00640  84E7  A9 FF       XX84E7 LDA #$FF
00641  84E9  91 11              STA ($11),Y
00642  84EB  C8                 INY 
00643  84EC  A9 02              LDA #$02
00644  84EE  91 11              STA ($11),Y
00645  84F0  20 FD 84           JSR XX84FD
00646  84F3  A4 02              LDY $02
00647  84F5  A9 89              LDA #$89
00648  84F7  91 11              STA ($11),Y
00649  84F9  20 0B 85           JSR XX850B
00650  84FC  60                 RTS 
00651  84FD              ;********************************
00652  84FD  A0 0D       XX84FD LDY #$0D
00653  84FF  A5 10              LDA $10
00654  8501  09 80              ORA #$80
00655  8503  91 11              STA ($11),Y
00656  8505  A9 00              LDA #$00
00657  8507  85 0F              STA $0F
00658  8509  58                 CLI 
00659  850A  60                 RTS 
00660  850B              ;********************************






C64DIAG.ASM......PAGE 0013

LINE# LOC   CODE        LINE


00661  850B  A0 0D       XX850B LDY #$0D
00662  850D  B1 11       XX850D LDA ($11),Y
00663  850F  25 10              AND $10
00664  8511  F0 FA              BEQ XX850D
00665  8513  A9 00              LDA #$00
00666  8515  91 11              STA ($11),Y
00667  8517  78                 SEI 
00668  8518  A5 0F              LDA $0F
00669  851A  F0 02              BEQ XX851E
00670  851C  18                 CLC 
00671  851D  60                 RTS 
00672  851E              ;********************************
00673  851E  68          XX851E PLA 
00674  851F  68                 PLA 
00675  8520  20 36 89           JSR XX8936
00676  8523  38                 SEC 
00677  8524  60                 RTS 
00678  8525              ;********************************
00679  8525  C6 0F       ZZ8525 DEC $0F
00680  8527  BA                 TSX 
00681  8528  BD 04 01           LDA $0104,X
00682  852B  09 04              ORA #$04
00683  852D  9D 04 01           STA $0104,X
00684  8530  68                 PLA 
00685  8531  A8                 TAY 
00686  8532  68                 PLA 
00687  8533  AA                 TAX 
00688  8534  68                 PLA 
00689  8535  40                 RTI 
00690  8536              ;********************************
00691  8536  C6 0F       ZZ8536 DEC $0F
00692  8538  40                 RTI 
00693  8539              ;********************************
00694  8539  A0 82       XX8539 LDY #$82
00695  853B  20 EF 88           JSR XX88EF
00696  853E  A2 00              LDX #$00
00697  8540  8E 03 DC           STX $DC03
00698  8543  A2 07              LDX #$07
00699  8545  A9 80              LDA #$80
00700  8547  8D 02 DC    XX8547 STA $DC02
00701  854A  49 FF              EOR #$FF
00702  854C  8D 00 DC           STA $DC00
00703  854F  BC 80 85           LDY XX8580,X
00704  8552  CC 01 DC           CPY $DC01
00705  8555  D0 31              BNE XX8588
00706  8557  49 FF              EOR #$FF
00707  8559  4A                 LSR A
00708  855A  CA                 DEX 
00709  855B  10 EA              BPL XX8547
00710  855D  A2 00              LDX #$00
00711  855F  8E 02 DC           STX $DC02
00712  8562  A2 07              LDX #$07
00713  8564  A9 80              LDA #$80
00714  8566  8D 03 DC    XX8566 STA $DC03
00715  8569  49 FF              EOR #$FF






C64DIAG.ASM......PAGE 0014

LINE# LOC   CODE        LINE


00716  856B  8D 01 DC           STA $DC01
00717  856E  BC 80 85           LDY XX8580,X
00718  8571  CC 00 DC           CPY $DC00
00719  8574  D0 12              BNE XX8588
00720  8576  49 FF              EOR #$FF
00721  8578  4A                 LSR A
00722  8579  CA                 DEX 
00723  857A  10 EA              BPL XX8566
00724  857C  20 1B 89           JSR XX891B
00725  857F  60                 RTS 
00726  8580              ;********************************
00727  8580              ;********************************
00728  8580  7E          XX8580 .BYTE $7E
00729  8581  BD                 .BYTE $BD
00730  8582  DB                 .BYTE $DB
00731  8583  E7                 .BYTE $E7
00732  8584  E7                 .BYTE $E7
00733  8585  DB                 .BYTE $DB
00734  8586  BD                 .BYTE $BD
00735  8587  7E                 .BYTE $7E
00736  8588  85          XX8588 .BYTE $85
00737  8589  02                 .BYTE $02
00738  858A              ;********************************
00739  858A  20 36 89    ZZ858A JSR XX8936
00740  858D  A0 05              LDY #$05
00741  858F  A9 15              LDA #$15
00742  8591  91 09              STA ($09),Y
00743  8593  C8                 INY 
00744  8594  A9 31              LDA #$31        ;'1'
00745  8596  91 09              STA ($09),Y
00746  8598  A9 03              LDA #$03
00747  859A  91 0B              STA ($0B),Y
00748  859C  88                 DEY 
00749  859D  91 0B              STA ($0B),Y
00750  859F  60                 RTS 
00751  85A0              ;********************************
00752  85A0  A0 90       XX85A0 LDY #$90
00753  85A2  20 EF 88           JSR XX88EF
00754  85A5  A9 C0              LDA #$C0
00755  85A7  8D 02 DC           STA $DC02
00756  85AA  29 40              AND #$40        ;'@'
00757  85AC  8D 00 DC           STA $DC00
00758  85AF  20 BE 85           JSR XX85BE
00759  85B2  A9 80              LDA #$80
00760  85B4  8D 00 DC           STA $DC00
00761  85B7  20 BE 85           JSR XX85BE
00762  85BA  20 1B 89           JSR XX891B
00763  85BD  60                 RTS 
00764  85BE              ;********************************
00765  85BE  A2 01       XX85BE LDX #$01
00766  85C0  A0 00       XX85C0 LDY #$00
00767  85C2  84 0E              STY $0E
00768  85C4  84 13              STY $13
00769  85C6  94 14              STY $14,X
00770  85C8  84 17              STY $17






C64DIAG.ASM......PAGE 0015

LINE# LOC   CODE        LINE


00771  85CA  88                 DEY 
00772  85CB  84 16              STY $16
00773  85CD  18          XX85CD CLC 
00774  85CE  BD 19 D4           LDA $D419,X
00775  85D1  C5 16              CMP $16
00776  85D3  B0 02              BCS XX85D7
00777  85D5  85 16              STA $16
00778  85D7  C5 17       XX85D7 CMP $17
00779  85D9  90 02              BCC XX85DD
00780  85DB  85 17              STA $17
00781  85DD  65 13       XX85DD ADC $13
00782  85DF  85 13              STA $13
00783  85E1  B5 14              LDA $14,X
00784  85E3  69 00              ADC #$00
00785  85E5  95 14              STA $14,X
00786  85E7  A0 01              LDY #$01
00787  85E9  8C 05 DD           STY $DD05
00788  85EC  88                 DEY 
00789  85ED  88                 DEY 
00790  85EE  8C 04 DD           STY $DD04
00791  85F1  A0 89              LDY #$89
00792  85F3  8C 0E DD           STY $DD0E
00793  85F6  AD 0D DD    XX85F6 LDA $DD0D
00794  85F9  29 01              AND #$01
00795  85FB  F0 F9              BEQ XX85F6
00796  85FD  C6 0E              DEC $0E
00797  85FF  D0 CC              BNE XX85CD
00798  8601  38                 SEC 
00799  8602  A5 17              LDA $17
00800  8604  E5 16              SBC $16
00801  8606  20 15 86           JSR XX8615
00802  8609  B5 14              LDA $14,X
00803  860B  20 15 86           JSR XX8615
00804  860E  20 31 86           JSR XX8631
00805  8611              ;********************************
00806  8611              ;.END
00807  8611              ;*=$8611
00808  8611              ;********************************
00809  8611  CA                 DEX 
00810  8612  10 AC              BPL XX85C0
00811  8614  60                 RTS 
00812  8615              ;********************************
00813  8615  48          XX8615 PHA 
00814  8616  4A                 LSR A
00815  8617  4A                 LSR A
00816  8618  4A                 LSR A
00817  8619  4A                 LSR A
00818  861A  A0 05              LDY #$05
00819  861C  20 22 86           JSR XX8622
00820  861F  68                 PLA 
00821  8620  29 0F              AND #$0F
00822  8622  18          XX8622 CLC 
00823  8623  69 F6              ADC #$F6
00824  8625  B0 02              BCS XX8629
00825  8627  69 39              ADC #$39        ;'9'






C64DIAG.ASM......PAGE 0016

LINE# LOC   CODE        LINE


00826  8629  69 00       XX8629 ADC #$00
00827  862B  91 09              STA ($09),Y
00828  862D  20 31 86           JSR XX8631
00829  8630  60                 RTS 
00830  8631              ;********************************
00831  8631  E6 09       XX8631 INC $09
00832  8633  D0 02              BNE XX8637
00833  8635  E6 0A              INC $0A
00834  8637  60          XX8637 RTS 
00835  8638              ;********************************
00836  8638  A0 9E       XX8638 LDY #$9E
00837  863A  20 EF 88           JSR XX88EF
00838  863D  A9 08              LDA #$08
00839  863F  8D 02 DD           STA $DD02
00840  8642  A9 F7              LDA #$F7
00841  8644  8D 00 DD           STA $DD00
00842  8647  A5 00              LDA $00
00843  8649  29 EF              AND #$EF
00844  864B  09 28              ORA #$28        ;'('
00845  864D  85 00              STA $00
00846  864F  A2 10              LDX #$10
00847  8651  8E 0D DC           STX $DC0D
00848  8654  AE 0D DC           LDX $DC0D
00849  8657  A5 01              LDA $01
00850  8659  09 28              ORA #$28        ;'('
00851  865B  85 01              STA $01
00852  865D  29 F7              AND #$F7
00853  865F  48                 PHA 
00854  8660  68                 PLA 
00855  8661  85 01              STA $01
00856  8663  A9 F5              LDA #$F5
00857  8665  69 01       XX8665 ADC #$01
00858  8667  D0 FC              BNE XX8665
00859  8669  A5 01              LDA $01
00860  866B  29 10              AND #$10
00861  866D  D0 23              BNE XX8692
00862  866F  AD 0D DC           LDA $DC0D
00863  8672  29 10              AND #$10
00864  8674  F0 1C              BEQ XX8692
00865  8676  A5 01              LDA $01
00866  8678  29 DF              AND #$DF
00867  867A  85 01              STA $01
00868  867C  A9 F5              LDA #$F5
00869  867E  69 01       XX867E ADC #$01
00870  8680  D0 FC              BNE XX867E
00871  8682  A5 01              LDA $01
00872  8684  29 10              AND #$10
00873  8686  F0 0A              BEQ XX8692
00874  8688  A5 00              LDA $00
00875  868A  29 F7              AND #$F7
00876  868C  85 00              STA $00
00877  868E  20 1B 89           JSR XX891B
00878  8691  60                 RTS 
00879  8692              ;********************************
00880  8692  20 36 89    XX8692 JSR XX8936






C64DIAG.ASM......PAGE 0017

LINE# LOC   CODE        LINE


00881  8695  60                 RTS 
00882  8696              ;********************************
00883  8696  A0 A7       XX8696 LDY #$A7
00884  8698  20 EF 88           JSR XX88EF
00885  869B  AD 02 DD           LDA $DD02
00886  869E  29 3F              AND #$3F        ;'?'
00887  86A0  09 38              ORA #$38        ;'8'
00888  86A2  8D 02 DD           STA $DD02
00889  86A5  A2 10              LDX #$10
00890  86A7  8E 0D DC           STX $DC0D
00891  86AA  AE 0D DC           LDX $DC0D
00892  86AD  AD 00 DD           LDA $DD00
00893  86B0  29 D7              AND #$D7
00894  86B2  09 10              ORA #$10
00895  86B4  8D 00 DD           STA $DD00
00896  86B7  48                 PHA 
00897  86B8  68                 PLA 
00898  86B9  09 08              ORA #$08
00899  86BB  8D 00 DD           STA $DD00
00900  86BE  48                 PHA 
00901  86BF  68                 PLA 
00902  86C0  29 F7              AND #$F7
00903  86C2  8D 00 DD           STA $DD00
00904  86C5  AD 0D DC           LDA $DC0D
00905  86C8  29 10              AND #$10
00906  86CA  F0 2B              BEQ XX86F7
00907  86CC  AD 00 DD           LDA $DD00
00908  86CF  29 C0              AND #$C0
00909  86D1  D0 24              BNE XX86F7
00910  86D3  AD 00 DD           LDA $DD00
00911  86D6  29 CF              AND #$CF
00912  86D8  8D 00 DD           STA $DD00
00913  86DB  A9 00              LDA #$00
00914  86DD  2C 00 DD           BIT $DD00
00915  86E0  10 15              BPL XX86F7
00916  86E2  50 13              BVC XX86F7
00917  86E4  AD 00 DD           LDA $DD00
00918  86E7  09 20              ORA #$20        ;' '
00919  86E9  8D 00 DD           STA $DD00
00920  86EC  AD 00 DD           LDA $DD00
00921  86EF  29 C0              AND #$C0
00922  86F1  D0 04              BNE XX86F7
00923  86F3  20 1B 89           JSR XX891B
00924  86F6  60                 RTS 
00925  86F7              ;********************************
00926  86F7  20 36 89    XX86F7 JSR XX8936
00927  86FA  60                 RTS 
00928  86FB              ;********************************
00929  86FB  A0 B2       XX86FB LDY #$B2
00930  86FD  20 EF 88           JSR XX88EF
00931  8700  A9 1F              LDA #$1F
00932  8702  8D 03 DD           STA $DD03
00933  8705  AD 02 DD           LDA $DD02
00934  8708  09 0C              ORA #$0C
00935  870A  8D 02 DD           STA $DD02






C64DIAG.ASM......PAGE 0018

LINE# LOC   CODE        LINE


00936  870D  A2 18              LDX #$18
00937  870F  8E 0D DD           STX $DD0D
00938  8712  AE 0D DD           LDX $DD0D
00939  8715  AC 01 DD           LDY $DD01
00940  8718  EA                 NOP 
00941  8719  AD 0D DD           LDA $DD0D
00942  871C  29 10              AND #$10
00943  871E  F0 7C              BEQ XX879C
00944  8720  AD 0E DD           LDA $DD0E
00945  8723  29 BF              AND #$BF
00946  8725  8D 0E DD           STA $DD0E
00947  8728  A2 10              LDX #$10
00948  872A  18                 CLC 
00949  872B  A9 08       XX872B LDA #$08
00950  872D  6D 01 DD           ADC $DD01
00951  8730  8D 01 DD           STA $DD01
00952  8733  CA                 DEX 
00953  8734  D0 F5              BNE XX872B
00954  8736  AD 0D DD           LDA $DD0D
00955  8739  29 08              AND #$08
00956  873B  F0 5F              BEQ XX879C
00957  873D  AD 0C DD           LDA $DD0C
00958  8740  C9 55              CMP #$55        ;'U'
00959  8742  D0 58              BNE XX879C
00960  8744  AD 0E DC           LDA $DC0E
00961  8747  29 BF              AND #$BF
00962  8749  8D 0E DC           STA $DC0E
00963  874C  A2 10              LDX #$10
00964  874E  18                 CLC 
00965  874F  A9 02       XX874F LDA #$02
00966  8751  6D 01 DD           ADC $DD01
00967  8754  8D 01 DD           STA $DD01
00968  8757  CA                 DEX 
00969  8758  D0 F5              BNE XX874F
00970  875A  AD 0D DC           LDA $DC0D
00971  875D  29 08              AND #$08
00972  875F  F0 3B              BEQ XX879C
00973  8761  AD 0C DC           LDA $DC0C
00974  8764  C9 55              CMP #$55        ;'U'
00975  8766  D0 34              BNE XX879C
00976  8768  A9 0C              LDA #$0C
00977  876A  8D 00 DD           STA $DD00
00978  876D  2C 01 DD           BIT $DD01
00979  8770  70 2A              BVS XX879C
00980  8772  10 28              BPL XX879C
00981  8774  A9 00              LDA #$00
00982  8776  8D 00 DD           STA $DD00
00983  8779  2C 01 DD           BIT $DD01
00984  877C  30 1E              BMI XX879C
00985  877E  50 1C              BVC XX879C
00986  8780  A9 01              LDA #$01
00987  8782  8D 01 DD           STA $DD01
00988  8785  AD 01 DD           LDA $DD01
00989  8788  29 20              AND #$20        ;' '
00990  878A  F0 10              BEQ XX879C






C64DIAG.ASM......PAGE 0019

LINE# LOC   CODE        LINE


00991  878C  A9 00              LDA #$00
00992  878E  8D 01 DD           STA $DD01
00993  8791  AD 01 DD           LDA $DD01
00994  8794  29 20              AND #$20        ;' '
00995  8796  D0 04              BNE XX879C
00996  8798  20 1B 89           JSR XX891B
00997  879B  60                 RTS 
00998  879C              ;********************************
00999  879C  20 36 89    XX879C JSR XX8936
01000  879F  60                 RTS 
01001  87A0              ;********************************
01002  87A0  A0 C8       XX87A0 LDY #$C8
01003  87A2  20 EF 88           JSR XX88EF
01004  87A5  A0 14              LDY #$14
01005  87A7  B9 13 88    XX87A7 LDA XX8813,Y
01006  87AA  99 00 D4           STA $D400,Y
01007  87AD  88                 DEY 
01008  87AE  10 F7              BPL XX87A7
01009  87B0  A9 0F              LDA #$0F
01010  87B2  8D 18 D4           STA $D418
01011  87B5  A9 13              LDA #$13
01012  87B7  20 F9 87           JSR XX87F9
01013  87BA  A9 23              LDA #$23        ;'#'
01014  87BC  20 F9 87           JSR XX87F9
01015  87BF  A9 43              LDA #$43        ;'C'
01016  87C1  20 F9 87           JSR XX87F9
01017  87C4  A9 01              LDA #$01
01018  87C6  8D 17 D4           STA $D417
01019  87C9  A9 2F              LDA #$2F        ;'/'
01020  87CB  8D 18 D4           STA $D418
01021  87CE  A9 00              LDA #$00
01022  87D0  8D 05 D4           STA $D405
01023  87D3  A9 F0              LDA #$F0
01024  87D5  8D 06 D4           STA $D406
01025  87D8  A9 81              LDA #$81
01026  87DA  8D 04 D4           STA $D404
01027  87DD  A2 00              LDX #$00
01028  87DF  A0 00       XX87DF LDY #$00
01029  87E1  8C 15 D4    XX87E1 STY $D415
01030  87E4  48                 PHA 
01031  87E5  68                 PLA 
01032  87E6  48                 PHA 
01033  87E7  68                 PLA 
01034  87E8  48                 PHA 
01035  87E9  68                 PLA 
01036  87EA  C8                 INY 
01037  87EB  C0 80              CPY #$80
01038  87ED  D0 F2              BNE XX87E1
01039  87EF  8E 16 D4           STX $D416
01040  87F2  E8                 INX 
01041  87F3  D0 EA              BNE XX87DF
01042  87F5  8E 18 D4           STX $D418
01043  87F8  60                 RTS 
01044  87F9              ;********************************
01045  87F9  8D 04 D4    XX87F9 STA $D404






C64DIAG.ASM......PAGE 0020

LINE# LOC   CODE        LINE


01046  87FC  8D 06 D4           STA $D406
01047  87FF  8D 12 D4           STA $D412
01048  8802  A9 01              LDA #$01
01049  8804  20 A3 89           JSR XX89A3
01050  8807  A9 00              LDA #$00
01051  8809  8D 04 D4           STA $D404
01052  880C  8D 06 D4           STA $D406
01053  880F  8D 12 D4           STA $D412
01054  8812  60                 RTS 
01055  8813              ;********************************
01056  8813              ;********************************
01057  8813  1C          XX8813 .BYTE $1C
01058  8814  D6                 .BYTE $D6
01059  8815  FF                 .BYTE $FF
01060  8816  00                 .BYTE $00
01061  8817  10                 .BYTE $10
01062  8818  09                 .BYTE $09
01063  8819  00                 .BYTE $00
01064  881A  24                 .BYTE $24
01065  881B  55                 .BYTE $55
01066  881C  FF                 .BYTE $FF
01067  881D  00                 .BYTE $00
01068  881E  10                 .BYTE $10
01069  881F  09                 .BYTE $09
01070  8820  00                 .BYTE $00
01071  8821  2B                 .BYTE $2B
01072  8822  34                 .BYTE $34
01073  8823  FF                 .BYTE $FF
01074  8824  00                 .BYTE $00
01075  8825  10                 .BYTE $10
01076  8826  09                 .BYTE $09
01077  8827  00                 .BYTE $00
01078  8828              ;********************************
01079  8828  A0 BD       XX8828 LDY #$BD
01080  882A  20 EF 88           JSR XX88EF
01081  882D  A9 08              LDA #$08
01082  882F  20 A3 89           JSR XX89A3
01083  8832  A0 00              LDY #$00
01084  8834  B9 00 04    XX8834 LDA $0400,Y
01085  8837  99 00 03           STA $0300,Y
01086  883A  C8                 INY 
01087  883B  D0 F7              BNE XX8834
01088  883D  A2 00              LDX #$00
01089  883F  8E 20 D0           STX $D020
01090  8842  E8                 INX 
01091  8843  8E 21 D0           STX $D021
01092  8846  A9 00              LDA #$00
01093  8848  A2 04              LDX #$04
01094  884A  85 05              STA $05
01095  884C  86 06              STX $06
01096  884E  A9 00              LDA #$00
01097  8850  A2 D8              LDX #$D8
01098  8852  85 03              STA $03
01099  8854  86 04              STX $04
01100  8856  A2 18              LDX #$18






C64DIAG.ASM......PAGE 0021

LINE# LOC   CODE        LINE


01101  8858  A0 27       XX8858 LDY #$27        ;'''
01102  885A  B9 9F 88    XX885A LDA XX889F,Y
01103  885D  91 05              STA ($05),Y
01104  885F  B9 C7 88           LDA XX88C7,Y
01105  8862  91 03              STA ($03),Y
01106  8864  88                 DEY 
01107  8865  10 F3              BPL XX885A
01108  8867  18                 CLC 
01109  8868  A9 28              LDA #$28        ;'('
01110  886A  65 05              ADC $05
01111  886C  85 05              STA $05
01112  886E  A9 00              LDA #$00
01113  8870  65 06              ADC $06
01114  8872  85 06              STA $06
01115  8874  18                 CLC 
01116  8875  A9 28              LDA #$28        ;'('
01117  8877  65 03              ADC $03
01118  8879  85 03              STA $03
01119  887B  A9 00              LDA #$00
01120  887D  65 04              ADC $04
01121  887F  85 04              STA $04
01122  8881  CA                 DEX 
01123  8882  10 D4              BPL XX8858
01124  8884  A9 0F              LDA #$0F
01125  8886  20 A3 89           JSR XX89A3
01126  8889  A9 0E              LDA #$0E
01127  888B  8D 20 D0           STA $D020
01128  888E  A9 06              LDA #$06
01129  8890  8D 21 D0           STA $D021
01130  8893  A0 00              LDY #$00
01131  8895  B9 00 03    XX8895 LDA $0300,Y
01132  8898  99 00 04           STA $0400,Y
01133  889B  C8                 INY 
01134  889C  D0 F7              BNE XX8895
01135  889E  60                 RTS 
01136  889F              ;********************************
01137  889F              ;********************************
01138  889F  4F          XX889F .BYTE $4F
01139  88A0  50                 .BYTE $50
01140  88A1  77                 .BYTE $77
01141  88A2  50                 .BYTE $50
01142  88A3  77                 .BYTE $77
01143  88A4  50                 .BYTE $50
01144  88A5  77                 .BYTE $77
01145  88A6  50                 .BYTE $50
01146  88A7  A0                 .BYTE $A0
01147  88A8  A0                 .BYTE $A0
01148  88A9  A0                 .BYTE $A0
01149  88AA  A0                 .BYTE $A0
01150  88AB  A0                 .BYTE $A0
01151  88AC  A0                 .BYTE $A0
01152  88AD  A0                 .BYTE $A0
01153  88AE  A0                 .BYTE $A0
01154  88AF  A0                 .BYTE $A0
01155  88B0  A0                 .BYTE $A0






C64DIAG.ASM......PAGE 0022

LINE# LOC   CODE        LINE


01156  88B1  A0                 .BYTE $A0
01157  88B2  A0                 .BYTE $A0
01158  88B3  A0                 .BYTE $A0
01159  88B4  A0                 .BYTE $A0
01160  88B5  A0                 .BYTE $A0
01161  88B6  A0                 .BYTE $A0
01162  88B7  A0                 .BYTE $A0
01163  88B8  A0                 .BYTE $A0
01164  88B9  A0                 .BYTE $A0
01165  88BA  A0                 .BYTE $A0
01166  88BB  A0                 .BYTE $A0
01167  88BC  A0                 .BYTE $A0
01168  88BD  A0                 .BYTE $A0
01169  88BE  A0                 .BYTE $A0
01170  88BF  66                 .BYTE $66
01171  88C0  66                 .BYTE $66
01172  88C1  66                 .BYTE $66
01173  88C2  66                 .BYTE $66
01174  88C3  7F                 .BYTE $7F
01175  88C4  7F                 .BYTE $7F
01176  88C5  7F                 .BYTE $7F
01177  88C6  7F                 .BYTE $7F
01178  88C7  00          XX88C7 .BYTE $00
01179  88C8  00                 .BYTE $00
01180  88C9  00                 .BYTE $00
01181  88CA  0E                 .BYTE $0E
01182  88CB  0E                 .BYTE $0E
01183  88CC  0E                 .BYTE $0E
01184  88CD  0E                 .BYTE $0E
01185  88CE  0E                 .BYTE $0E
01186  88CF  00                 .BYTE $00
01187  88D0  00                 .BYTE $00
01188  88D1  00                 .BYTE $00
01189  88D2  06                 .BYTE $06
01190  88D3  06                 .BYTE $06
01191  88D4  06                 .BYTE $06
01192  88D5  02                 .BYTE $02
01193  88D6  02                 .BYTE $02
01194  88D7  02                 .BYTE $02
01195  88D8  04                 .BYTE $04
01196  88D9  04                 .BYTE $04
01197  88DA  04                 .BYTE $04
01198  88DB  05                 .BYTE $05
01199  88DC  05                 .BYTE $05
01200  88DD  05                 .BYTE $05
01201  88DE  03                 .BYTE $03
01202  88DF  03                 .BYTE $03
01203  88E0  03                 .BYTE $03
01204  88E1  07                 .BYTE $07
01205  88E2  07                 .BYTE $07
01206  88E3  07                 .BYTE $07
01207  88E4  01                 .BYTE $01
01208  88E5  01                 .BYTE $01
01209  88E6  01                 .BYTE $01
01210  88E7  0E                 .BYTE $0E






C64DIAG.ASM......PAGE 0023

LINE# LOC   CODE        LINE


01211  88E8  0E                 .BYTE $0E
01212  88E9  0E                 .BYTE $0E
01213  88EA  0E                 .BYTE $0E
01214  88EB  0E                 .BYTE $0E
01215  88EC  0E                 .BYTE $0E
01216  88ED  0E                 .BYTE $0E
01217  88EE  0E                 .BYTE $0E
01218  88EF  20          XX88EF .BYTE $20
01219  88F0  0F                 .BYTE $0F
01220  88F1  89                 .BYTE $89
01221  88F2              ;********************************
01222  88F2  A5 07       ZZ88F2 LDA $07
01223  88F4  A6 08              LDX $08
01224  88F6  85 09              STA $09
01225  88F8  86 0A              STX $0A
01226  88FA  A2 00              LDX #$00
01227  88FC  E6 09       XX88FC INC $09
01228  88FE  D0 02              BNE XX8902
01229  8900  E6 0A              INC $0A
01230  8902  B9 F1 89    XX8902 LDA XX89F1,Y
01231  8905  08                 PHP 
01232  8906  29 3F              AND #$3F        ;'?'
01233  8908  81 09              STA ($09,X)
01234  890A  C8                 INY 
01235  890B  28                 PLP 
01236  890C  10 EE              BPL XX88FC
01237  890E  60                 RTS 
01238  890F              ;********************************
01239  890F  18          ZZ890F CLC 
01240  8910  A9 28              LDA #$28        ;'('
01241  8912  65 07              ADC $07
01242  8914  85 07              STA $07
01243  8916  90 02              BCC XX891A
01244  8918  E6 08              INC $08
01245  891A  60          XX891A RTS 
01246  891B              ;********************************
01247  891B  A5 07       XX891B LDA $07
01248  891D  A6 08              LDX $08
01249  891F  18                 CLC 
01250  8920  69 0E              ADC #$0E
01251  8922  85 09              STA $09
01252  8924  8A                 TXA 
01253  8925  69 00              ADC #$00
01254  8927  85 0A              STA $0A
01255  8929  A0 02              LDY #$02
01256  892B  B9 D9 8A    XX892B LDA XX8AD9,Y
01257  892E  29 BF              AND #$BF
01258  8930  91 09              STA ($09),Y
01259  8932  88                 DEY 
01260  8933  D0 F6              BNE XX892B
01261  8935  60                 RTS 
01262  8936              ;********************************
01263  8936  A5 07       XX8936 LDA $07
01264  8938  A6 08              LDX $08
01265  893A  18                 CLC 






C64DIAG.ASM......PAGE 0024

LINE# LOC   CODE        LINE


01266  893B  69 0E              ADC #$0E
01267  893D  85 09              STA $09
01268  893F  8A                 TXA 
01269  8940  69 00              ADC #$00
01270  8942  85 0A              STA $0A
01271  8944  18                 CLC 
01272  8945  A5 09              LDA $09
01273  8947  69 00              ADC #$00
01274  8949  85 0B              STA $0B
01275  894B  A5 0A              LDA $0A
01276  894D  69 D4              ADC #$D4
01277  894F  85 0C              STA $0C
01278  8951  A5 0D              LDA $0D
01279  8953  D0 03              BNE XX8958
01280  8955  A0 0C              LDY #$0C
01281  8957              ;********************************
01282  8957  2C                 .BYTE $2C
01283  8958              ;********************************
01284  8958  A0 04       XX8958 LDY #$04
01285  895A  B9 C4 8A    XX895A LDA XX8AC4,Y
01286  895D  29 BF              AND #$BF
01287  895F  91 09              STA ($09),Y
01288  8961  A9 03              LDA #$03
01289  8963  91 0B              STA ($0B),Y
01290  8965  88                 DEY 
01291  8966  D0 F2              BNE XX895A
01292  8968  60                 RTS 
01293  8969              ;********************************
01294  8969  A2 05       XX8969 LDX #$05
01295  896B  FE 8C 04    XX896B INC $048C,X
01296  896E  BD 8C 04           LDA $048C,X
01297  8971  29 7F              AND #$7F
01298  8973  C9 3A              CMP #$3A        ;':'
01299  8975  90 0A              BCC XX8981
01300  8977  A9 B0              LDA #$B0
01301  8979  9D 8C 04           STA $048C,X
01302  897C  CA                 DEX 
01303  897D  10 EC              BPL XX896B
01304  897F  30 E8              BMI XX8969
01305  8981  A2 00       XX8981 LDX #$00
01306  8983  A9 0E       XX8983 LDA #$0E
01307  8985  9D 00 D8           STA $D800,X
01308  8988  9D 00 D9           STA $D900,X
01309  898B  9D 00 DA           STA $DA00,X
01310  898E  9D 00 DB           STA $DB00,X
01311  8991  A9 20              LDA #$20        ;' '
01312  8993  9D 96 04           STA $0496,X
01313  8996  9D 00 05           STA $0500,X
01314  8999  9D 00 06           STA $0600,X
01315  899C  9D 00 07           STA $0700,X
01316  899F  E8                 INX 
01317  89A0  D0 E1              BNE XX8983
01318  89A2  60                 RTS 
01319  89A3              ;********************************
01320  89A3  A2 FF       XX89A3 LDX #$FF






C64DIAG.ASM......PAGE 0025

LINE# LOC   CODE        LINE


01321  89A5  A0 FF              LDY #$FF
01322  89A7  CA          XX89A7 DEX 
01323  89A8  D0 FD              BNE XX89A7
01324  89AA  88                 DEY 
01325  89AB  D0 FA              BNE XX89A7
01326  89AD  38                 SEC 
01327  89AE  E9 01              SBC #$01
01328  89B0  D0 F5              BNE XX89A7
01329  89B2  60          XX89B2 RTS 
01330  89B3              ;********************************
01331  89B3              ;********************************
01332  89B3  00          ZZ89B3 .BYTE $00
01333  89B4  00                 .BYTE $00
01334  89B5  00                 .BYTE $00
01335  89B6  00                 .BYTE $00
01336  89B7  00                 .BYTE $00
01337  89B8  00                 .BYTE $00
01338  89B9  00                 .BYTE $00
01339  89BA  00                 .BYTE $00
01340  89BB  00                 .BYTE $00
01341  89BC  00                 .BYTE $00
01342  89BD  00                 .BYTE $00
01343  89BE  00                 .BYTE $00
01344  89BF  00                 .BYTE $00
01345  89C0  00                 .BYTE $00
01346  89C1  00                 .BYTE $00
01347  89C2  00                 .BYTE $00
01348  89C3  00                 .BYTE $00
01349  89C4  1B                 .BYTE $1B
01350  89C5  00                 .BYTE $00
01351  89C6  00                 .BYTE $00
01352  89C7  00                 .BYTE $00
01353  89C8  00                 .BYTE $00
01354  89C9  08                 .BYTE $08
01355  89CA  00                 .BYTE $00
01356  89CB  14                 .BYTE $14
01357  89CC  00                 .BYTE $00
01358  89CD  00                 .BYTE $00
01359  89CE  00                 .BYTE $00
01360  89CF  00                 .BYTE $00
01361  89D0  00                 .BYTE $00
01362  89D1  00                 .BYTE $00
01363  89D2  00                 .BYTE $00
01364  89D3  0E                 .BYTE $0E
01365  89D4  06                 .BYTE $06
01366  89D5  01                 .BYTE $01
01367  89D6  02                 .BYTE $02
01368  89D7  03                 .BYTE $03
01369  89D8  04                 .BYTE $04
01370  89D9  00                 .BYTE $00
01371  89DA  01                 .BYTE $01
01372  89DB  02                 .BYTE $02
01373  89DC  03                 .BYTE $03
01374  89DD  04                 .BYTE $04
01375  89DE  05                 .BYTE $05






C64DIAG.ASM......PAGE 0026

LINE# LOC   CODE        LINE


01376  89DF  06                 .BYTE $06
01377  89E0  07          XX89E0 .BYTE $07
01378  89E1              ;********************************
01379  89E1              ;********************************
01380  89E1  32 31       ZZ89E1 .BYTE '2109221023112412'
01381  89F1  43 4F       XX89F1 .BYTE 'COMMODORE 64 DIAGNOSTIC'
01382  8A08  43 59       XX8A08 .BYTE 'CYCLE 000001'
01383  8A14  5A 45       XX8A14 .BYTE 'ZEROPAGE'
01384  8A1C  53 54       XX8A1C .BYTE 'STACKPAGECOLOUR RAM'
01385  8A2F  A0                 .BYTE $A0
01386  8A30  36 34              .BYTE '64-K   RAM'
01387  8A3A  A0                 .BYTE $A0
01388  8A3B  42 41              .BYTE 'BASIC  ROM'
01389  8A45  A0                 .BYTE $A0
01390  8A46  4B 45              .BYTE 'KERNAL ROM'
01391  8A50  A0                 .BYTE $A0
01392  8A51  54 49              .BYTE 'TIMERS  '
01393  8A59  A0                 .BYTE $A0
01394  8A5A  32 34              .BYTE '24 HOUR-CLOCK'
01395  8A67  A0                 .BYTE $A0
01396  8A68  49 4E              .BYTE 'INTERRUPT '
01397  8A72  A0                 .BYTE $A0
01398  8A73  4B 45              .BYTE 'KEYBRD+JOYSTK'
01399  8A80  A0                 .BYTE $A0
01400  8A81  50 41              .BYTE 'PADDLE   TEST'
01401  8A8E  A0                 .BYTE $A0
01402  8A8F  43 41              .BYTE 'CASSETTE'
01403  8A97  A0                 .BYTE $A0
01404  8A98  53 45              .BYTE 'SERIAL-BUS'
01405  8AA2  A0                 .BYTE $A0
01406  8AA3  55 53              .BYTE 'USER  PORT'
01407  8AAD  A0                 .BYTE $A0
01408  8AAE  56 49              .BYTE 'VIC   CHIP'
01409  8AB8  A0                 .BYTE $A0
01410  8AB9  53 4F              .BYTE 'SOUND CHIP'
01411  8AC3  A0                 .BYTE $A0
01412  8AC4  20 42       XX8AC4 .BYTE ' BAD ADDRESS'
01413  8AD0  A0                 .BYTE $A0
01414  8AD1  44 41              .BYTE 'DATABIT'
01415  8AD8  A0                 .BYTE $A0
01416  8AD9  20 4F 4B    XX8AD9 .BYTE ' OK'
01417  8ADC              ;********************************
01418  8ADC  AA                 .BYTE $AA,$AA,$AA,$AA
01418  8ADD  AA 
01418  8ADE  AA 
01418  8ADF  AA 
01419  8AE0              ;********************************
01420  8AE0              .END


ERRORS = 00000












SYMBOL TABLE

SYMBOL VALUE
 XX8009   8009    XX8017   8017    XX8022   8022    XX8043   8043
 XX8050   8050    XX805D   805D    XX805F   805F    XX806C   806C
 XX8075   8075    XX807C   807C    XX808D   808D    XX809B   809B
 XX80AF   80AF    XX80C2   80C2    XX80C4   80C4    XX80CA   80CA
 XX80EC   80EC    XX80FF   80FF    XX8101   8101    XX810E   810E
 XX8117   8117    XX811E   811E    XX812F   812F    XX813D   813D
 XX8151   8151    XX8164   8164    XX8166   8166    XX816C   816C
 XX818E   818E    XX81A1   81A1    XX81D3   81D3    XX81E6   81E6
 XX81EC   81EC    XX820F   820F    XX8229   8229    XX823F   823F
 XX8257   8257    XX826F   826F    XX8273   8273    XX827B   827B
 XX8286   8286    XX828C   828C    XX82AD   82AD    XX82BF   82BF
 XX82C1   82C1    XX82CE   82CE    XX8303   8303    XX8315   8315
 XX8317   8317    XX831E   831E    XX8330   8330    XX833D   833D
 XX833F   833F    XX8354   8354    XX8363   8363    XX8377   8377
 XX837B   837B    XX8383   8383    XX839E   839E    XX83A0   83A0
 XX83A2   83A2    XX83A4   83A4    XX83A6   83A6    XX841F   841F
 XX843E   843E    XX8446   8446    XX845F   845F    XX8498   8498
 XX8499   8499    XX84D6   84D6    XX84E7   84E7    XX84FD   84FD
 XX850B   850B    XX850D   850D    XX851E   851E    XX8539   8539
 XX8547   8547    XX8566   8566    XX8580   8580    XX8588   8588
 XX85A0   85A0    XX85BE   85BE    XX85C0   85C0    XX85CD   85CD
 XX85D7   85D7    XX85DD   85DD    XX85F6   85F6    XX8615   8615
 XX8622   8622    XX8629   8629    XX8631   8631    XX8637   8637
 XX8638   8638    XX8665   8665    XX867E   867E    XX8692   8692
 XX8696   8696    XX86F7   86F7    XX86FB   86FB    XX872B   872B
 XX874F   874F    XX879C   879C    XX87A0   87A0    XX87A7   87A7
 XX87DF   87DF    XX87E1   87E1    XX87F9   87F9    XX8813   8813
 XX8828   8828    XX8834   8834    XX8858   8858    XX885A   885A
 XX8895   8895    XX889F   889F    XX88C7   88C7    XX88EF   88EF
 XX88FC   88FC    XX8902   8902    XX891A   891A    XX891B   891B
 XX892B   892B    XX8936   8936    XX8958   8958    XX895A   895A
 XX8969   8969    XX896B   896B    XX8981   8981    XX8983   8983
 XX89A3   89A3    XX89A7   89A7    XX89B2   89B2    XX89E0   89E0
 XX89F1   89F1    XX8A08   8A08    XX8A14   8A14    XX8A1C   8A1C
 XX8AC4   8AC4    XX8AD9   8AD9    ZZ8525   8525    ZZ8536   8536
 ZZ858A   858A    ZZ88F2   88F2    ZZ890F   890F    ZZ89B3   89B3
 ZZ89E1   89E1   

END OF ASSEMBLY
